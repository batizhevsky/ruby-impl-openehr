require 'shared_token'

grammar Path

  include SharedToken

  rule path
    movable_path
  | absolute_path
  | relative_path
  end

  rule movable_path
     SYM_MOVABLE_LEADER relative_path
   end

  rule absolute_path
     '/' path_segment ('/' path_segment)*
  end

  rule relative_path
    path_segment ('/' path_segment)*
  end

  rule path_segment
    V_ATTRIBUTE_IDENTIFIER V_LOCAL_TERM_CODE_REF?
  end

  rule SYM_MOVABLE_LEADER
    '//'
  end
end